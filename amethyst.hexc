"stdlib.hexc" loadfile!

# takes "amethyst cluster" block type, returns closure that does the farming
: amethyst [ 
	-3 5 [ 
		0 2 [ 
			-8 0 [ 
				3vec
				-71 56 -1915 3vec + # base offset
				# stack is now {amethyst, pos}
				[ block/type == ] 1preserving
				[ block/break ] [ drop ] ifelse
			] ranged
		] ranged
	] ranged
] curry ;
	

